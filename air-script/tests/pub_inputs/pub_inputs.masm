proc.cache_z_exp
    padw mem_loadw.4294903304 drop drop
    # => [z_1, z_0, ...]
    # Exponentiate z trace_len times
    mem_load.4294903307 neg
    # => [count, z_1, z_0, ...] where count = -log2(trace_len)
    dup.0 neq.0
    while.true
        movdn.2 dup.1 dup.1 ext2mul
        # => [(z_1, z_0)^n, i, ...]
        movup.2 add.1 dup.0 neq.0
        # => [b, i+1, (z_1, z_0)^n, ...]
    end # END while
    push.0 mem_storew.500000100 # z^trace_len
    # => [0, 0, (z_1, z_0)^trace_len, ...]
    dropw # Clean stack
end # END PROC cache_z_exp

proc.get_exemptions_points
    mem_load.4294799999
    # => [g, ...]
    push.1 swap div
    # => [g^{-1}, ...]
    dup.0 dup.0 mul
    # => [g^{-2}, g^{-1}, ...]
end # END PROC get_exemptions_points

proc.compute_evaluate_integrity_constraints
    # integrity constraint 0 for main
    padw mem_loadw.4294900000 drop drop padw mem_loadw.4294900001 movdn.3 movdn.3 drop drop padw mem_loadw.4294900002 movdn.3 movdn.3 drop drop ext2add ext2sub
    # Multiply by the composition coefficient
    padw mem_loadw.4294900200 movdn.3 movdn.3 drop drop ext2mul
end # END PROC compute_evaluate_integrity_constraints

proc.compute_evaluate_boundary_constraints
    # boundary constraint 0 for main
    padw mem_loadw.4294900000 movdn.3 movdn.3 drop drop
    # Load public input stack_inputs pos 0 with final offset 8
    padw mem_loadw.4294800004 movdn.3 movdn.3 drop drop ext2sub
    # Multiply by the composition coefficient
    padw mem_loadw.4294900200 drop drop ext2mul
    # boundary constraint 1 for main
    padw mem_loadw.4294900001 movdn.3 movdn.3 drop drop
    # Load public input stack_inputs pos 1 with final offset 8
    padw mem_loadw.4294800004 drop drop ext2sub
    # Multiply by the composition coefficient
    padw mem_loadw.4294900201 movdn.3 movdn.3 drop drop ext2mul
    # boundary constraint 2 for main
    padw mem_loadw.4294900002 movdn.3 movdn.3 drop drop
    # Load public input stack_inputs pos 2 with final offset 8
    padw mem_loadw.4294800005 movdn.3 movdn.3 drop drop ext2sub
    # Multiply by the composition coefficient
    padw mem_loadw.4294900201 drop drop ext2mul
    # boundary constraint 3 for main
    padw mem_loadw.4294900003 movdn.3 movdn.3 drop drop
    # Load public input stack_inputs pos 3 with final offset 8
    padw mem_loadw.4294800005 drop drop ext2sub
    # Multiply by the composition coefficient
    padw mem_loadw.4294900202 movdn.3 movdn.3 drop drop ext2mul
    # boundary constraint 4 for main
    padw mem_loadw.4294900000 movdn.3 movdn.3 drop drop
    # Load public input stack_outputs pos 0 with final offset 12
    padw mem_loadw.4294800006 movdn.3 movdn.3 drop drop ext2sub
    # Multiply by the composition coefficient
    padw mem_loadw.4294900202 drop drop ext2mul
    # boundary constraint 5 for main
    padw mem_loadw.4294900001 movdn.3 movdn.3 drop drop
    # Load public input stack_outputs pos 1 with final offset 12
    padw mem_loadw.4294800006 drop drop ext2sub
    # Multiply by the composition coefficient
    padw mem_loadw.4294900203 movdn.3 movdn.3 drop drop ext2mul
    # boundary constraint 6 for main
    padw mem_loadw.4294900002 movdn.3 movdn.3 drop drop
    # Load public input stack_outputs pos 2 with final offset 12
    padw mem_loadw.4294800007 movdn.3 movdn.3 drop drop ext2sub
    # Multiply by the composition coefficient
    padw mem_loadw.4294900203 drop drop ext2mul
    # boundary constraint 7 for main
    padw mem_loadw.4294900003 movdn.3 movdn.3 drop drop
    # Load public input stack_outputs pos 3 with final offset 12
    padw mem_loadw.4294800007 drop drop ext2sub
    # Multiply by the composition coefficient
    padw mem_loadw.4294900204 movdn.3 movdn.3 drop drop ext2mul
end # END PROC compute_evaluate_boundary_constraints

proc.evaluate_integrity_constraints
    exec.compute_evaluate_integrity_constraints
    # Accumulate the numerator of the constraint polynomial
    ext2add
end # END PROC evaluate_integrity_constraints

proc.evaluate_boundary_constraints
    exec.compute_evaluate_boundary_constraints
    # Accumulate the numerator of the constraint polynomial
    ext2add ext2add ext2add ext2add ext2add ext2add ext2add ext2add
end # END PROC evaluate_boundary_constraints

